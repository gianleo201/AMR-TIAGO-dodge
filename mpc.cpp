/*
*    This file is part of ACADO Toolkit.
*
*    ACADO Toolkit -- A Toolkit for Automatic Control and Dynamic Optimization.
*    Copyright (C) 2008-2009 by Boris Houska and Hans Joachim Ferreau, K.U.Leuven.
*    Developed within the Optimization in Engineering Center (OPTEC) under
*    supervision of Moritz Diehl. All rights reserved.
*
*    ACADO Toolkit is free software; you can redistribute it and/or
*    modify it under the terms of the GNU Lesser General Public
*    License as published by the Free Software Foundation; either
*    version 3 of the License, or (at your option) any later version.
*
*    ACADO Toolkit is distributed in the hope that it will be useful,
*    but WITHOUT ANY WARRANTY; without even the implied warranty of
*    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
*    Lesser General Public License for more details.
*
*    You should have received a copy of the GNU Lesser General Public
*    License along with ACADO Toolkit; if not, write to the Free Software
*    Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
*
*/


/**
*    Author David Ariens, Rien Quirynen
*    Date 2009-2013
*    http://www.acadotoolkit.org/matlab 
*/

#include <acado_optimal_control.hpp>
#include <acado_toolkit.hpp>
#include <acado/utils/matlab_acado_utils.hpp>

USING_NAMESPACE_ACADO

#include <mex.h>


void mexFunction( int nlhs, mxArray *plhs[], int nrhs, const mxArray *prhs[] ) 
 { 
 
    MatlabConsoleStreamBuf mybuf;
    RedirectStream redirect(std::cout, mybuf);
    clearAllStaticCounters( ); 
 
    mexPrintf("\nACADO Toolkit for Matlab - Developed by David Ariens and Rien Quirynen, 2009-2013 \n"); 
    mexPrintf("Support available at http://www.acadotoolkit.org/matlab \n \n"); 

    if (nrhs != 0){ 
      mexErrMsgTxt("This problem expects 0 right hand side argument(s) since you have defined 0 MexInput(s)");
    } 
 
    DifferentialState x1;
    DifferentialState x2;
    DifferentialState x3;
    DifferentialState x4;
    DifferentialState x5;
    DifferentialState x6;
    Control tau1;
    Control tau2;
    Control tau3;
    OnlineData x_obs; 
    OnlineData y_obs; 
    OnlineData r_obs; 
    OnlineData x01; 
    OnlineData x02; 
    OnlineData x03; 
    OnlineData x04; 
    OnlineData x05; 
    OnlineData x06; 
    BMatrix acadodata_M1;
    acadodata_M1.read( "mpc_data_acadodata_M1.txt" );
    BMatrix acadodata_M2;
    acadodata_M2.read( "mpc_data_acadodata_M2.txt" );
    Function acadodata_f2;
    acadodata_f2 << (1.54999999999999998890e-01-3.20000000000000006661e-01*sin(x2)-5.90000000000000079936e-01*sin((x2+x3))-6.19999999999999995559e-02+x1);
    acadodata_f2 << (1.08850000000000002309e+00+3.20000000000000006661e-01*cos(x2)+5.90000000000000079936e-01*cos((x2+x3)));
    acadodata_f2 << (-(3.20000000000000006661e-01*cos(x2)+5.90000000000000079936e-01*cos((x2+x3)))*x5-5.90000000000000079936e-01*cos((x2+x3))*x6+x4);
    acadodata_f2 << ((-x5)*(3.20000000000000006661e-01*sin(x2)+5.90000000000000079936e-01*sin((x2+x3)))-5.90000000000000079936e-01*sin((x2+x3))*x6);
    acadodata_f2 << x4;
    acadodata_f2 << x5;
    acadodata_f2 << x6;
    acadodata_f2 << tau1;
    acadodata_f2 << tau2;
    acadodata_f2 << tau3;
    Function acadodata_f3;
    acadodata_f3 << (1.54999999999999998890e-01-3.20000000000000006661e-01*sin(x2)-5.90000000000000079936e-01*sin((x2+x3))-6.19999999999999995559e-02+x1);
    acadodata_f3 << (1.08850000000000002309e+00+3.20000000000000006661e-01*cos(x2)+5.90000000000000079936e-01*cos((x2+x3)));
    acadodata_f3 << (-(3.20000000000000006661e-01*cos(x2)+5.90000000000000079936e-01*cos((x2+x3)))*x5-5.90000000000000079936e-01*cos((x2+x3))*x6+x4);
    acadodata_f3 << ((-x5)*(3.20000000000000006661e-01*sin(x2)+5.90000000000000079936e-01*sin((x2+x3)))-5.90000000000000079936e-01*sin((x2+x3))*x6);
    acadodata_f3 << x4;
    acadodata_f3 << x5;
    acadodata_f3 << x6;
    OCP ocp1(0, 0.15, 15);
    ocp1.minimizeLSQ(acadodata_M1, acadodata_f2);
    ocp1.minimizeLSQEndTerm(acadodata_M2, acadodata_f3);
    ocp1.subjectTo((-1.00000000000000000000e+00) <= x4 <= 1.00000000000000000000e+00);
    ocp1.subjectTo((-5.00000000000000000000e+00) <= x5 <= 5.00000000000000000000e+00);
    ocp1.subjectTo((-5.00000000000000000000e+00) <= x6 <= 5.00000000000000000000e+00);
    ocp1.subjectTo((-6.00000000000000000000e+01) <= tau1 <= 6.00000000000000000000e+01);
    ocp1.subjectTo((-3.90000000000000000000e+01) <= tau2 <= 3.90000000000000000000e+01);
    ocp1.subjectTo((-3.90000000000000000000e+01) <= tau3 <= 3.90000000000000000000e+01);
    ocp1.subjectTo((-1.00000000000000002082e-02-5.44250000000000011546e-01-r_obs+sqrt((pow((1.54999999999999998890e-01-6.19999999999999995559e-02+x1-x_obs),2.00000000000000000000e+00)+pow((5.44250000000000011546e-01-y_obs),2.00000000000000000000e+00)))) >= 0.00000000000000000000e+00);
    ocp1.subjectTo((-1.00000000000000002082e-02-1.60000000000000003331e-01-r_obs+sqrt((pow((1.08850000000000002309e+00+1.60000000000000003331e-01*cos(x2)-y_obs),2.00000000000000000000e+00)+pow((1.54999999999999998890e-01-1.60000000000000003331e-01*sin(x2)-6.19999999999999995559e-02+x1-x_obs),2.00000000000000000000e+00)))) >= 0.00000000000000000000e+00);
    ocp1.subjectTo((-1.00000000000000002082e-02-2.95000000000000039968e-01-r_obs+sqrt((pow((1.08850000000000002309e+00+2.95000000000000039968e-01*cos((x2+x3))+3.20000000000000006661e-01*cos(x2)-y_obs),2.00000000000000000000e+00)+pow((1.54999999999999998890e-01-2.95000000000000039968e-01*sin((x2+x3))-3.20000000000000006661e-01*sin(x2)-6.19999999999999995559e-02+x1-x_obs),2.00000000000000000000e+00)))) >= 0.00000000000000000000e+00);
    ocp1.subjectTo((-1/(-1.51690761560186911083e+03*cos(2.00000000000000000000e+00*x2)-1.51690761560186911083e+03*cos(2.00000000000000000000e+00*x3)-2.89044896265600073093e+02*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-2.90160994958380288153e+04*cos(2.00000000000000000000e+00*x3)+3.39259118414725890034e+04-3.40111432089600000950e+01*cos(2.00000000000000000000e+00*x2)-3.55607838720000080102e+00*cos(2.00000000000000000000e+00*x2)+7.58453807800934555416e+02*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-7.93011036718080219998e+01*cos(2.00000000000000000000e+00*x2)-9.29525760000000228489e-02*cos(2.00000000000000000000e+00*x2))*(1.00309562710221325688e+04*cos((x2+x3))*pow(x5,2.00000000000000000000e+00)+1.00309562710221325688e+04*cos((x2+x3))*pow(x6,2.00000000000000000000e+00)+1.04879940609973004939e+03*cos((x2+x3))*pow(x5,2.00000000000000000000e+00)+1.04879940609973004939e+03*cos((x2+x3))*pow(x6,2.00000000000000000000e+00)+1.18031591169510625150e+03*cos((x2+x3))*x5*x6+1.18031591169510625150e+03*cos((x2-x3))*x5*x6+1.22934741120000023962e+00*cos((x2+x3))*pow(x5,2.00000000000000000000e+00)+1.22934741120000023962e+00*cos((x2+x3))*pow(x6,2.00000000000000000000e+00)+1.23409433133711388564e+02*cos((x2-x3))*x5*x6+1.28034268387265751699e+03*cos(x2)*pow(x5,2.00000000000000000000e+00)+1.33867859670466572197e+02*cos(x2)*pow(x5,2.00000000000000000000e+00)+1.42210088962675217772e+03*cos(x2)*pow(x5,2.00000000000000000000e+00)-1.42759209519523137715e+04*cos((2.00000000000000000000e+00*x3+x2))*pow(x5,2.00000000000000000000e+00)-1.49263709375223993447e+03/2.00000000000000000000e+00*cos((2.00000000000000000000e+00*x3+x2))*pow(x5,2.00000000000000000000e+00)+1.51690761560186911083e+03*sin(2.00000000000000000000e+00*x2)*tau1-1.61290380349440054530e+00*cos((x2+x3))*pow(x5,2.00000000000000000000e+00)-1.61290380349440054530e+00*cos((x2+x3))*pow(x6,2.00000000000000000000e+00)+1.61290380349440054530e+00*cos((x2-x3))*pow(x5,2.00000000000000000000e+00)+1.61290380349440054530e+00*cos((x2-x3))*pow(x6,2.00000000000000000000e+00)-1/2.00000000000000000000e+00*2.75204964160569170417e+03*cos((x2+x3))*pow(x5,2.00000000000000000000e+00)-1/2.00000000000000000000e+00*2.75204964160569170417e+03*cos((x2+x3))*pow(x6,2.00000000000000000000e+00)+1/2.00000000000000000000e+00*2.75204964160569170417e+03*cos((x2-x3))*pow(x5,2.00000000000000000000e+00)+1/2.00000000000000000000e+00*2.75204964160569170417e+03*cos((x2-x3))*pow(x6,2.00000000000000000000e+00)+1/2.00000000000000000000e+00*4.47791128125671821181e+03*cos(x2)*pow(x5,2.00000000000000000000e+00)+2.00619125420442651375e+04*cos((x2+x3))*x5*x6+2.09759881219946009878e+03*cos((x2+x3))*x5*x6+2.35155169843200013702e+01*cos((x2+x3))*pow(x5,2.00000000000000000000e+00)+2.35155169843200013702e+01*cos((x2+x3))*pow(x6,2.00000000000000000000e+00)+2.45869482240000047923e+00*cos((x2+x3))*x5*x6+2.55083574067199982949e+01*cos(x2)*pow(x5,2.00000000000000000000e+00)+2.63212292551620776067e+04*cos((x2-x3))*pow(x5,2.00000000000000000000e+00)+2.63212292551620776067e+04*cos((x2-x3))*pow(x6,2.00000000000000000000e+00)+2.66705879040000004565e+00*cos(x2)*pow(x5,2.00000000000000000000e+00)-2.75204964160569170417e+03*cos((x2+x3))*x5*x6+2.75204964160569170417e+03*cos((x2-x3))*x5*x6+2.84420177925350458281e+02*cos((2.00000000000000000000e+00*x3+x2))*pow(x5,2.00000000000000000000e+00)+2.89044896265600073093e+02*sin((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))*tau1-3.22580760698880109061e+00*cos((x2+x3))*x5*x6+3.22580760698880109061e+00*cos((x2-x3))*x5*x6+3.40111432089600000950e+01*sin(2.00000000000000000000e+00*x2)*tau1+3.49918113300480104755e+00*cos(x2)*pow(x5,2.00000000000000000000e+00)+3.55607838720000080102e+00*sin(2.00000000000000000000e+00*x2)*tau1+4.28277628558569340385e+04*cos(x2)*pow(x5,2.00000000000000000000e+00)+4.70310339686400027404e+01*cos((x2+x3))*x5*x6+5.26424585103241552133e+04*cos((x2-x3))*x5*x6+5.44051865546963017550e+03*cos((2.00000000000000000000e+00*x3+x2))*pow(x5,2.00000000000000000000e+00)+5.44051865546963017550e+03*cos(x2)*pow(x5,2.00000000000000000000e+00)+5.90157955847553125750e+02*cos((x2+x3))*pow(x5,2.00000000000000000000e+00)+5.90157955847553125750e+02*cos((x2+x3))*pow(x6,2.00000000000000000000e+00)+5.90157955847553125750e+02*cos((x2-x3))*pow(x5,2.00000000000000000000e+00)+5.90157955847553125750e+02*cos((x2-x3))*pow(x6,2.00000000000000000000e+00)+5.94758277538560164999e+01*cos(x2)*pow(x5,2.00000000000000000000e+00)+6.17047165668556942819e+01*cos((x2-x3))*pow(x5,2.00000000000000000000e+00)+6.17047165668556942819e+01*cos((x2-x3))*pow(x6,2.00000000000000000000e+00)+6.97144320000000067283e-02*cos(x2)*pow(x5,2.00000000000000000000e+00)-7.58453807800934555416e+02*sin((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))*tau1+7.93011036718080219998e+01*sin(2.00000000000000000000e+00*x2)*tau1+9.29525760000000228489e-02*sin(2.00000000000000000000e+00*x2)*tau1)/2.00000000000000000000e+00*5.40000000000000035527e-01+1/(-1.51690761560186911083e+03*cos(2.00000000000000000000e+00*x2)-1.51690761560186911083e+03*cos(2.00000000000000000000e+00*x3)-2.89044896265600073093e+02*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-2.90160994958380288153e+04*cos(2.00000000000000000000e+00*x3)+3.39259118414725890034e+04-3.40111432089600000950e+01*cos(2.00000000000000000000e+00*x2)-3.55607838720000080102e+00*cos(2.00000000000000000000e+00*x2)+7.58453807800934555416e+02*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-7.93011036718080219998e+01*cos(2.00000000000000000000e+00*x2)-9.29525760000000228489e-02*cos(2.00000000000000000000e+00*x2))*(1.00332872466432014846e+01*pow(x5,2.00000000000000000000e+00)*sin((x2+x3))+1.00332872466432014846e+01*pow(x5,2.00000000000000000000e+00)*sin((x2-x3))+1.00332872466432014846e+01*pow(x6,2.00000000000000000000e+00)*sin((x2+x3))+1.00332872466432014846e+01*pow(x6,2.00000000000000000000e+00)*sin((x2-x3))+1.04904312422400036731e+00*sin((x2-x3))*x5*x6+1.13356800000000007556e-02*pow(x5,2.00000000000000000000e+00)*sin(x2)-1.15199999999999989908e-02*tau1-1.15644825600000022980e+00*tau1+1.70536488796704077231e+02*pow(x5,2.00000000000000000000e+00)*sin((x2+x3))+1.70536488796704077231e+02*pow(x6,2.00000000000000000000e+00)*sin((x2+x3))+1.70691762585600059765e+00*pow(x5,2.00000000000000000000e+00)*sin(x2)+1.99893888000000019556e-01*pow(x5,2.00000000000000000000e+00)*sin((x2+x3))+1.99893888000000019556e-01*pow(x6,2.00000000000000000000e+00)*sin((x2+x3))+2.00665744932864029693e+01*sin((x2+x3))*x5*x6+2.00665744932864029693e+01*sin((x2-x3))*x5*x6+2.16834048000000001455e-01*pow(x5,2.00000000000000000000e+00)*sin(x2)+2.17671316537344026187e+01*pow(x5,2.00000000000000000000e+00)*sin(x2)-2.42705218496299153230e+02*pow(x5,2.00000000000000000000e+00)*sin((2.00000000000000000000e+00*x3+x2))+2.53763531749785755665e+01*pow(x5,2.00000000000000000000e+00)*sin(x2)-2.57889768038400042371e+01*tau1+2.97448243200000086994e-02*pow(x5,2.00000000000000000000e+00)*sin(x2)-3.02284800000000054843e-02*tau1+3.41072977593408154462e+02*sin((x2+x3))*x5*x6+3.99787776000000039112e-01*sin((x2+x3))*x5*x6+4.47487746602551453634e+02*pow(x5,2.00000000000000000000e+00)*sin((x2-x3))+4.47487746602551453634e+02*pow(x6,2.00000000000000000000e+00)*sin((x2-x3))+4.93303289626624064113e+02*cos(2.00000000000000000000e+00*x3)*tau1-4.93303289626624064113e+02*tau1+5.24521562112000183653e-01*pow(x5,2.00000000000000000000e+00)*sin((x2-x3))+5.24521562112000183653e-01*pow(x6,2.00000000000000000000e+00)*sin((x2-x3))+7.28115655488897232317e+02*pow(x5,2.00000000000000000000e+00)*sin(x2)+8.94975493205102907268e+02*sin((x2-x3))*x5*x6+9.24943668049920120211e+01*pow(x5,2.00000000000000000000e+00)*sin((2.00000000000000000000e+00*x3+x2))+9.24943668049920120211e+01*pow(x5,2.00000000000000000000e+00)*sin(x2)+9.67086630144000203302e+00*pow(x5,2.00000000000000000000e+00)*sin(x2)-9.82811616000000221050e+00*tau1)*2.98269573339999988093e+03/6.06400000000000005684e+01) >= 0.00000000000000000000e+00);
    ocp1.subjectTo(((-(1.00309562710221325688e+04*cos((x2+x3))*pow(x5,2.00000000000000000000e+00)+1.00309562710221325688e+04*cos((x2+x3))*pow(x6,2.00000000000000000000e+00)+1.04879940609973004939e+03*cos((x2+x3))*pow(x5,2.00000000000000000000e+00)+1.04879940609973004939e+03*cos((x2+x3))*pow(x6,2.00000000000000000000e+00)+1.18031591169510625150e+03*cos((x2+x3))*x5*x6+1.18031591169510625150e+03*cos((x2-x3))*x5*x6+1.22934741120000023962e+00*cos((x2+x3))*pow(x5,2.00000000000000000000e+00)+1.22934741120000023962e+00*cos((x2+x3))*pow(x6,2.00000000000000000000e+00)+1.23409433133711388564e+02*cos((x2-x3))*x5*x6+1.28034268387265751699e+03*cos(x2)*pow(x5,2.00000000000000000000e+00)+1.33867859670466572197e+02*cos(x2)*pow(x5,2.00000000000000000000e+00)+1.42210088962675217772e+03*cos(x2)*pow(x5,2.00000000000000000000e+00)-1.42759209519523137715e+04*cos((2.00000000000000000000e+00*x3+x2))*pow(x5,2.00000000000000000000e+00)-1.49263709375223993447e+03/2.00000000000000000000e+00*cos((2.00000000000000000000e+00*x3+x2))*pow(x5,2.00000000000000000000e+00)+1.51690761560186911083e+03*sin(2.00000000000000000000e+00*x2)*tau1-1.61290380349440054530e+00*cos((x2+x3))*pow(x5,2.00000000000000000000e+00)-1.61290380349440054530e+00*cos((x2+x3))*pow(x6,2.00000000000000000000e+00)+1.61290380349440054530e+00*cos((x2-x3))*pow(x5,2.00000000000000000000e+00)+1.61290380349440054530e+00*cos((x2-x3))*pow(x6,2.00000000000000000000e+00)-1/2.00000000000000000000e+00*2.75204964160569170417e+03*cos((x2+x3))*pow(x5,2.00000000000000000000e+00)-1/2.00000000000000000000e+00*2.75204964160569170417e+03*cos((x2+x3))*pow(x6,2.00000000000000000000e+00)+1/2.00000000000000000000e+00*2.75204964160569170417e+03*cos((x2-x3))*pow(x5,2.00000000000000000000e+00)+1/2.00000000000000000000e+00*2.75204964160569170417e+03*cos((x2-x3))*pow(x6,2.00000000000000000000e+00)+1/2.00000000000000000000e+00*4.47791128125671821181e+03*cos(x2)*pow(x5,2.00000000000000000000e+00)+2.00619125420442651375e+04*cos((x2+x3))*x5*x6+2.09759881219946009878e+03*cos((x2+x3))*x5*x6+2.35155169843200013702e+01*cos((x2+x3))*pow(x5,2.00000000000000000000e+00)+2.35155169843200013702e+01*cos((x2+x3))*pow(x6,2.00000000000000000000e+00)+2.45869482240000047923e+00*cos((x2+x3))*x5*x6+2.55083574067199982949e+01*cos(x2)*pow(x5,2.00000000000000000000e+00)+2.63212292551620776067e+04*cos((x2-x3))*pow(x5,2.00000000000000000000e+00)+2.63212292551620776067e+04*cos((x2-x3))*pow(x6,2.00000000000000000000e+00)+2.66705879040000004565e+00*cos(x2)*pow(x5,2.00000000000000000000e+00)-2.75204964160569170417e+03*cos((x2+x3))*x5*x6+2.75204964160569170417e+03*cos((x2-x3))*x5*x6+2.84420177925350458281e+02*cos((2.00000000000000000000e+00*x3+x2))*pow(x5,2.00000000000000000000e+00)+2.89044896265600073093e+02*sin((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))*tau1-3.22580760698880109061e+00*cos((x2+x3))*x5*x6+3.22580760698880109061e+00*cos((x2-x3))*x5*x6+3.40111432089600000950e+01*sin(2.00000000000000000000e+00*x2)*tau1+3.49918113300480104755e+00*cos(x2)*pow(x5,2.00000000000000000000e+00)+3.55607838720000080102e+00*sin(2.00000000000000000000e+00*x2)*tau1+4.28277628558569340385e+04*cos(x2)*pow(x5,2.00000000000000000000e+00)+4.70310339686400027404e+01*cos((x2+x3))*x5*x6+5.26424585103241552133e+04*cos((x2-x3))*x5*x6+5.44051865546963017550e+03*cos((2.00000000000000000000e+00*x3+x2))*pow(x5,2.00000000000000000000e+00)+5.44051865546963017550e+03*cos(x2)*pow(x5,2.00000000000000000000e+00)+5.90157955847553125750e+02*cos((x2+x3))*pow(x5,2.00000000000000000000e+00)+5.90157955847553125750e+02*cos((x2+x3))*pow(x6,2.00000000000000000000e+00)+5.90157955847553125750e+02*cos((x2-x3))*pow(x5,2.00000000000000000000e+00)+5.90157955847553125750e+02*cos((x2-x3))*pow(x6,2.00000000000000000000e+00)+5.94758277538560164999e+01*cos(x2)*pow(x5,2.00000000000000000000e+00)+6.17047165668556942819e+01*cos((x2-x3))*pow(x5,2.00000000000000000000e+00)+6.17047165668556942819e+01*cos((x2-x3))*pow(x6,2.00000000000000000000e+00)+6.97144320000000067283e-02*cos(x2)*pow(x5,2.00000000000000000000e+00)-7.58453807800934555416e+02*sin((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))*tau1+7.93011036718080219998e+01*sin(2.00000000000000000000e+00*x2)*tau1+9.29525760000000228489e-02*sin(2.00000000000000000000e+00*x2)*tau1)*5.40000000000000035527e-01)/(-1.51690761560186911083e+03*cos(2.00000000000000000000e+00*x2)-1.51690761560186911083e+03*cos(2.00000000000000000000e+00*x3)-2.89044896265600073093e+02*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-2.90160994958380288153e+04*cos(2.00000000000000000000e+00*x3)+3.39259118414725890034e+04-3.40111432089600000950e+01*cos(2.00000000000000000000e+00*x2)-3.55607838720000080102e+00*cos(2.00000000000000000000e+00*x2)+7.58453807800934555416e+02*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-7.93011036718080219998e+01*cos(2.00000000000000000000e+00*x2)-9.29525760000000228489e-02*cos(2.00000000000000000000e+00*x2))/2.00000000000000000000e+00-1/(-1.51690761560186911083e+03*cos(2.00000000000000000000e+00*x2)-1.51690761560186911083e+03*cos(2.00000000000000000000e+00*x3)-2.89044896265600073093e+02*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-2.90160994958380288153e+04*cos(2.00000000000000000000e+00*x3)+3.39259118414725890034e+04-3.40111432089600000950e+01*cos(2.00000000000000000000e+00*x2)-3.55607838720000080102e+00*cos(2.00000000000000000000e+00*x2)+7.58453807800934555416e+02*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-7.93011036718080219998e+01*cos(2.00000000000000000000e+00*x2)-9.29525760000000228489e-02*cos(2.00000000000000000000e+00*x2))*(1.00332872466432014846e+01*pow(x5,2.00000000000000000000e+00)*sin((x2+x3))+1.00332872466432014846e+01*pow(x5,2.00000000000000000000e+00)*sin((x2-x3))+1.00332872466432014846e+01*pow(x6,2.00000000000000000000e+00)*sin((x2+x3))+1.00332872466432014846e+01*pow(x6,2.00000000000000000000e+00)*sin((x2-x3))+1.04904312422400036731e+00*sin((x2-x3))*x5*x6+1.13356800000000007556e-02*pow(x5,2.00000000000000000000e+00)*sin(x2)-1.15199999999999989908e-02*tau1-1.15644825600000022980e+00*tau1+1.70536488796704077231e+02*pow(x5,2.00000000000000000000e+00)*sin((x2+x3))+1.70536488796704077231e+02*pow(x6,2.00000000000000000000e+00)*sin((x2+x3))+1.70691762585600059765e+00*pow(x5,2.00000000000000000000e+00)*sin(x2)+1.99893888000000019556e-01*pow(x5,2.00000000000000000000e+00)*sin((x2+x3))+1.99893888000000019556e-01*pow(x6,2.00000000000000000000e+00)*sin((x2+x3))+2.00665744932864029693e+01*sin((x2+x3))*x5*x6+2.00665744932864029693e+01*sin((x2-x3))*x5*x6+2.16834048000000001455e-01*pow(x5,2.00000000000000000000e+00)*sin(x2)+2.17671316537344026187e+01*pow(x5,2.00000000000000000000e+00)*sin(x2)-2.42705218496299153230e+02*pow(x5,2.00000000000000000000e+00)*sin((2.00000000000000000000e+00*x3+x2))+2.53763531749785755665e+01*pow(x5,2.00000000000000000000e+00)*sin(x2)-2.57889768038400042371e+01*tau1+2.97448243200000086994e-02*pow(x5,2.00000000000000000000e+00)*sin(x2)-3.02284800000000054843e-02*tau1+3.41072977593408154462e+02*sin((x2+x3))*x5*x6+3.99787776000000039112e-01*sin((x2+x3))*x5*x6+4.47487746602551453634e+02*pow(x5,2.00000000000000000000e+00)*sin((x2-x3))+4.47487746602551453634e+02*pow(x6,2.00000000000000000000e+00)*sin((x2-x3))+4.93303289626624064113e+02*cos(2.00000000000000000000e+00*x3)*tau1-4.93303289626624064113e+02*tau1+5.24521562112000183653e-01*pow(x5,2.00000000000000000000e+00)*sin((x2-x3))+5.24521562112000183653e-01*pow(x6,2.00000000000000000000e+00)*sin((x2-x3))+7.28115655488897232317e+02*pow(x5,2.00000000000000000000e+00)*sin(x2)+8.94975493205102907268e+02*sin((x2-x3))*x5*x6+9.24943668049920120211e+01*pow(x5,2.00000000000000000000e+00)*sin((2.00000000000000000000e+00*x3+x2))+9.24943668049920120211e+01*pow(x5,2.00000000000000000000e+00)*sin(x2)+9.67086630144000203302e+00*pow(x5,2.00000000000000000000e+00)*sin(x2)-9.82811616000000221050e+00*tau1)*2.98269573339999988093e+03/6.06400000000000005684e+01) >= 0.00000000000000000000e+00);
    DifferentialEquation acadodata_f4;
    acadodata_f4 << dot(x1) == x4;
    acadodata_f4 << dot(x2) == x5;
    acadodata_f4 << dot(x3) == x6;
    acadodata_f4 << dot(x4) == 1/(1.02124348143206432837e+02-1.31010359040000068376e+00*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-1.31516233706373157020e+02*cos(2.00000000000000000000e+00*x3)-1.54156400640000051938e-01*cos(2.00000000000000000000e+00*x2)+1.99224815743825985237e+02-2.39409561600000070358e-01*cos(2.00000000000000000000e+00*x2)+3.43771182120960183681e+00*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-5.33887063142400286608e+00*cos(2.00000000000000000000e+00*x2)-6.87542364241920367363e+00*cos(2.00000000000000000000e+00*x2)-6.87542364241920367363e+00*cos(2.00000000000000000000e+00*x3)-9.29525760000000228489e-02*cos(2.00000000000000000000e+00*x2))*(1.08513630720000051610e+01*cos(x2)*tau2-1.08513630720000051610e+01*cos(x2)*tau3+1.10006778278707262331e+00*pow(x5,2.00000000000000000000e+00)*sin((2.00000000000000000000e+00*x3+x2))-1.13356800000000007556e-02*pow(x5,2.00000000000000000000e+00)*sin(x2)-1.14916589568000063193e-01*pow(x5,2.00000000000000000000e+00)*sin(x2)+1.15199999999999989908e-02*tau1+1.28521162218240068142e+01*sin((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-1.34576640000000028602e-02*pow(x5,2.00000000000000000000e+00)*sin((x2+x3))-1.34576640000000028602e-02*pow(x6,2.00000000000000000000e+00)*sin((x2+x3))-1.45981440000000003976e-02*pow(x5,2.00000000000000000000e+00)*sin(x2)+1.51227429027840054587e+00*sin(2.00000000000000000000e+00*x2)-1.54592223667200090453e+00*sin((x2+x3))*x5*x6-1.70843860205568121025e+00*pow(x5,2.00000000000000000000e+00)*sin(x2)+1.73621809152000072807e+00*tau1+1.88928000000000012593e-01*cos(x2)*tau2-1.88928000000000012593e-01*cos(x2)*tau3-2.02824997451366551005e+00*pow(x5,2.00000000000000000000e+00)*sin((x2-x3))-2.02824997451366551005e+00*pow(x6,2.00000000000000000000e+00)*sin((x2-x3))-2.23591012761600094194e+00*cos(2.00000000000000000000e+00*x3)*tau1+2.23591012761600094194e+00*tau1+2.24294400000000049289e+00*cos((x2+x3))*tau3+2.34860779929600083094e+00*sin(2.00000000000000000000e+00*x2)+2.43302400000000029756e-01*cos(x2)*tau2-2.43302400000000029756e-01*cos(x2)*tau3-2.69153280000000057204e-02*sin((x2+x3))*x5*x6-2.97448243200000086994e-02*pow(x5,2.00000000000000000000e+00)*sin(x2)+3.02284800000000054843e-02*tau1-3.30020334836121786992e+00*pow(x5,2.00000000000000000000e+00)*sin(x2)-3.37239529660661929711e+01*sin((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-3.53129103360000154432e-02*pow(x5,2.00000000000000000000e+00)*sin((x2-x3))-3.53129103360000154432e-02*pow(x6,2.00000000000000000000e+00)*sin((x2-x3))-4.05649994902733102009e+00*sin((x2-x3))*x5*x6-4.19233148928000121103e-01*pow(x5,2.00000000000000000000e+00)*sin((2.00000000000000000000e+00*x3+x2))-4.19233148928000121103e-01*pow(x5,2.00000000000000000000e+00)*sin(x2)-4.54761381888000165707e-02*pow(x5,2.00000000000000000000e+00)*sin((x2+x3))-4.54761381888000165707e-02*pow(x5,2.00000000000000000000e+00)*sin((x2-x3))-4.54761381888000165707e-02*pow(x6,2.00000000000000000000e+00)*sin((x2+x3))-4.54761381888000165707e-02*pow(x6,2.00000000000000000000e+00)*sin((x2-x3))+5.23743208942694664643e+01*sin(2.00000000000000000000e+00*x2)-5.88548505600000204652e+00*cos((x2-x3))*tau3-6.51081784320000189759e-01*pow(x5,2.00000000000000000000e+00)*sin(x2)+6.61668480000000225338e-01*tau1+6.74479059321323859422e+01*sin(2.00000000000000000000e+00*x2)-6.98721914880000305459e+00*cos((2.00000000000000000000e+00*x3+x2))*tau2+6.98721914880000305459e+00*cos((2.00000000000000000000e+00*x3+x2))*tau3+6.98721914880000305459e+00*cos(x2)*tau2-6.98721914880000305459e+00*cos(x2)*tau3-7.06258206720000308865e-02*sin((x2-x3))*x5*x6+7.57935636480000329840e+00*cos((x2+x3))*tau3-7.57935636480000329840e+00*cos((x2-x3))*tau3-7.72961118336000452267e-01*pow(x5,2.00000000000000000000e+00)*sin((x2+x3))-7.72961118336000452267e-01*pow(x6,2.00000000000000000000e+00)*sin((x2+x3))+7.78567680000000206242e-02*tau1-9.09522763776000331415e-02*sin((x2+x3))*x5*x6-9.09522763776000331415e-02*sin((x2-x3))*x5*x6+9.11864770560000259536e-01*sin(2.00000000000000000000e+00*x2)-9.86600964096000371262e-02*pow(x5,2.00000000000000000000e+00)*sin(x2));
    acadodata_f4 << dot(x5) == (-1.05387353018956858364e+02*sin((2.00000000000000000000e+00*x3+x2))-1.09175299200000051059e+01*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))*tau2+1.09175299200000051059e+01*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))*tau3+1.09175299200000051059e+01*tau2-1.09175299200000051059e+01*tau3+1.10090990592000039783e+01*sin(x2)-1.10352844800000043923e-01*sin((2.00000000000000000000e+00*x2+x3))*x5*x6+1.18427443200000030998e+01*cos((2.00000000000000000000e+00*x2+x3))*tau3-1.18427443200000030998e+01*cos(x3)*tau3-1.19704780800000035179e-01*pow(x5,2.00000000000000000000e+00)*sin(2.00000000000000000000e+00*x2)+1.21241527948062795872e+02*pow(x5,2.00000000000000000000e+00)*sin(x3)+1.21241527948062795872e+02*pow(x6,2.00000000000000000000e+00)*sin(x3)+1.21651200000000014878e-01*cos(x2)*tau1-1.42112931840000067396e-01*sin((2.00000000000000000000e+00*x2+x3))*x5*x6+1.42112931840000067396e-01*sin(x3)*x5*x6+1.65529267200000052007e-01*pow(x5,2.00000000000000000000e+00)*sin(x3)+1.65529267200000052007e-01*pow(x6,2.00000000000000000000e+00)*sin(x3)+1.90148435110656137681e+01*sin(x3)*x5*x6+1.90148435110656137681e+01/2.00000000000000000000e+00*pow(x5,2.00000000000000000000e+00)*sin(x3)+1.90148435110656137681e+01/2.00000000000000000000e+00*pow(x6,2.00000000000000000000e+00)*sin(x3)-1/2.00000000000000000000e+00*5.33887063142400286608e+00*pow(x5,2.00000000000000000000e+00)*sin(2.00000000000000000000e+00*x2)-1/2.00000000000000000000e+00*6.33828117035520488542e+00*pow(x5,2.00000000000000000000e+00)*sin((2.00000000000000000000e+00*x2+x3))-1/2.00000000000000000000e+00*6.33828117035520488542e+00*pow(x6,2.00000000000000000000e+00)*sin((2.00000000000000000000e+00*x2+x3))-2.01589726978050134676e+03*sin((2.00000000000000000000e+00*x3+x2))+2.01589726978050134676e+03*sin(x2)+2.11087945728000025980e+00*pow(x5,2.00000000000000000000e+00)*sin(x3)+2.11087945728000025980e+00*pow(x6,2.00000000000000000000e+00)*sin(x3)+2.42483055896125591744e+02*sin(x3)*x5*x6-2.75882112000000034868e+01*cos(x3)*tau3+3.13074954776517233768e+03*sin(x2)+3.16162059056870532459e+02*sin(x2)+3.24327833280000106697e+02*tau2-3.24327833280000106697e+02*tau3+3.27339505589184170731e+02*sin(x2)+3.31058534400000104014e-01*sin(x3)*x5*x6+3.39105096000000187928e+01*tau2-3.39105096000000187928e+01*tau3-3.43771182120960183681e+00*pow(x5,2.00000000000000000000e+00)*sin(2.00000000000000000000e+00*x2)+3.43771182120960183681e+00*pow(x5,2.00000000000000000000e+00)*sin(2.00000000000000000000e+00*x3)-3.49360957440000152729e+00*cos((2.00000000000000000000e+00*x3+x2))*tau1+3.49360957440000152729e+00*cos(x2)*tau1-3.51813242880000132118e+02*cos(x3)*tau3+3.80160000000000053433e-01*tau2-3.80160000000000053433e-01*tau3+4.22175891456000051960e+00*sin(x3)*x5*x6-4.64762880000000114245e-02*pow(x5,2.00000000000000000000e+00)*sin(2.00000000000000000000e+00*x2)+4.72585715712000098421e+00*sin(x2)+5.42568153600000258052e+00*cos(x2)*tau1+5.45080140287999981297e+01*sin(x2)-5.51764224000000219617e-02*pow(x5,2.00000000000000000000e+00)*sin((2.00000000000000000000e+00*x2+x3))-5.51764224000000219617e-02*pow(x6,2.00000000000000000000e+00)*sin((2.00000000000000000000e+00*x2+x3))+5.64672000000000018360e+00*tau2-5.64672000000000018360e+00*tau3+5.69915481600000095597e+00*sin(x2)+5.90400000000000035882e-01*tau2-5.90400000000000035882e-01*tau3-6.33828117035520488542e+00*sin((2.00000000000000000000e+00*x2+x3))*x5*x6+6.57581168531865785098e+01*pow(x5,2.00000000000000000000e+00)*sin(2.00000000000000000000e+00*x3)+7.01956863590399962050e+01*sin(x2)-7.10564659200000336980e-02*pow(x5,2.00000000000000000000e+00)*sin((2.00000000000000000000e+00*x2+x3))+7.10564659200000336980e-02*pow(x5,2.00000000000000000000e+00)*sin(x3)-7.10564659200000336980e-02*pow(x6,2.00000000000000000000e+00)*sin((2.00000000000000000000e+00*x2+x3))+7.10564659200000336980e-02*pow(x6,2.00000000000000000000e+00)*sin(x3)-7.70782003200000259691e-02*pow(x5,2.00000000000000000000e+00)*sin(2.00000000000000000000e+00*x2)+9.19607040000000175439e+00*cos((2.00000000000000000000e+00*x2+x3))*tau3+9.44640000000000062963e-02*cos(x2)*tau1)/(1.02124348143206432837e+02-1.31010359040000068376e+00*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-1.31516233706373157020e+02*cos(2.00000000000000000000e+00*x3)-1.54156400640000051938e-01*cos(2.00000000000000000000e+00*x2)+1.99224815743825985237e+02-2.39409561600000070358e-01*cos(2.00000000000000000000e+00*x2)+3.43771182120960183681e+00*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-5.33887063142400286608e+00*cos(2.00000000000000000000e+00*x2)-6.87542364241920367363e+00*cos(2.00000000000000000000e+00*x2)-6.87542364241920367363e+00*cos(2.00000000000000000000e+00*x3)-9.29525760000000228489e-02*cos(2.00000000000000000000e+00*x2))*2.00000000000000000000e+00;
    acadodata_f4 << dot(x6) == (-((1/2.00000000000000000000e+00*5.90000000000000079936e-01*sin((x2+x3))+3.20000000000000006661e-01*sin(x2))*3.88476000000000070145e+01+(2.00000000000000000000e+00*x5+x6)/2.00000000000000000000e+00*7.47648000000000201304e-01*sin(x3)*x6+1.93060800000000014620e+01/2.00000000000000000000e+00*sin(x2)+tau2)/(1.02124348143206432837e+02-1.31010359040000068376e+00*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-1.31516233706373157020e+02*cos(2.00000000000000000000e+00*x3)-1.54156400640000051938e-01*cos(2.00000000000000000000e+00*x2)+1.99224815743825985237e+02-2.39409561600000070358e-01*cos(2.00000000000000000000e+00*x2)+3.43771182120960183681e+00*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-5.33887063142400286608e+00*cos(2.00000000000000000000e+00*x2)-6.87542364241920367363e+00*cos(2.00000000000000000000e+00*x2)-6.87542364241920367363e+00*cos(2.00000000000000000000e+00*x3)-9.29525760000000228489e-02*cos(2.00000000000000000000e+00*x2))*(1.37941056000000017434e+01*cos(x3)+1.75906621440000066059e+02*cos(x3)+1.87886576400000052445e+02-4.59803520000000087720e+00*cos((2.00000000000000000000e+00*x2+x3))-5.45876496000000255293e+00*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-5.92137216000000154992e+00*cos((2.00000000000000000000e+00*x2+x3))+5.92137216000000154992e+00*cos(x3))*4.00000000000000000000e+00+(-1.18427443200000030998e+01*cos((2.00000000000000000000e+00*x2+x3))+1.18427443200000030998e+01*cos(x3)+2.75882112000000034868e+01*cos(x3)+3.51813242880000132118e+02*cos(x3)-3.87302400000000091040e+00*cos(2.00000000000000000000e+00*x2)+5.11131210000000123728e+02-5.45876496000000255293e+00*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-6.42318336000000122965e+00*cos(2.00000000000000000000e+00*x2)-9.19607040000000175439e+00*cos((2.00000000000000000000e+00*x2+x3))-9.97539840000000310738e+00*cos(2.00000000000000000000e+00*x2))/(1.02124348143206432837e+02-1.31010359040000068376e+00*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-1.31516233706373157020e+02*cos(2.00000000000000000000e+00*x3)-1.54156400640000051938e-01*cos(2.00000000000000000000e+00*x2)+1.99224815743825985237e+02-2.39409561600000070358e-01*cos(2.00000000000000000000e+00*x2)+3.43771182120960183681e+00*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-5.33887063142400286608e+00*cos(2.00000000000000000000e+00*x2)-6.87542364241920367363e+00*cos(2.00000000000000000000e+00*x2)-6.87542364241920367363e+00*cos(2.00000000000000000000e+00*x3)-9.29525760000000228489e-02*cos(2.00000000000000000000e+00*x2))*(1/2.00000000000000000000e+00*2.29200840000000063412e+01*sin((x2+x3))-1/2.00000000000000000000e+00*7.47648000000000201304e-01*pow(x5,2.00000000000000000000e+00)*sin(x3)+tau3)*4.00000000000000000000e+00+1/(1.02124348143206432837e+02-1.31010359040000068376e+00*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-1.31516233706373157020e+02*cos(2.00000000000000000000e+00*x3)-1.54156400640000051938e-01*cos(2.00000000000000000000e+00*x2)+1.99224815743825985237e+02-2.39409561600000070358e-01*cos(2.00000000000000000000e+00*x2)+3.43771182120960183681e+00*cos((2.00000000000000000000e+00*x2+2.00000000000000000000e+00*x3))-5.33887063142400286608e+00*cos(2.00000000000000000000e+00*x2)-6.87542364241920367363e+00*cos(2.00000000000000000000e+00*x2)-6.87542364241920367363e+00*cos(2.00000000000000000000e+00*x3)-9.29525760000000228489e-02*cos(2.00000000000000000000e+00*x2))*(1.26720000000000010409e+00*pow(x5,2.00000000000000000000e+00)*sin(x2)+1.96800000000000019362e+00/2.00000000000000000000e+00*pow(x5,2.00000000000000000000e+00)*sin(x2)+1/2.00000000000000000000e+00*2.33640000000000069846e+00*pow(x5,2.00000000000000000000e+00)*sin((x2+x3))+1/2.00000000000000000000e+00*2.33640000000000069846e+00*pow(x6,2.00000000000000000000e+00)*sin((x2+x3))+2.33640000000000069846e+00*sin((x2+x3))*x5*x6-tau1)*(1.47137126400000051163e+00*cos((x2-x3))-1.74680478720000076365e+00*cos((2.00000000000000000000e+00*x3+x2))+1.74680478720000076365e+00*cos(x2)-1.89483909120000082460e+00*cos((x2+x3))+1.89483909120000082460e+00*cos((x2-x3))+2.71284076800000129026e+00*cos(x2)+4.72320000000000031481e-02*cos(x2)-5.60736000000000123222e-01*cos((x2+x3))+6.08256000000000074390e-02*cos(x2))*4.00000000000000000000e+00);

    ocp1.setModel( acadodata_f4 );


    ocp1.setNU( 3 );
    ocp1.setNP( 0 );
    ocp1.setNOD( 9 );
    OCPexport ExportModule2( ocp1 );
    ExportModule2.set( GENERATE_MATLAB_INTERFACE, 1 );
    uint options_flag;
    options_flag = ExportModule2.set( HESSIAN_APPROXIMATION, GAUSS_NEWTON );
    if(options_flag != 0) mexErrMsgTxt("ACADO export failed when setting the following option: HESSIAN_APPROXIMATION");
    options_flag = ExportModule2.set( DISCRETIZATION_TYPE, MULTIPLE_SHOOTING );
    if(options_flag != 0) mexErrMsgTxt("ACADO export failed when setting the following option: DISCRETIZATION_TYPE");
    options_flag = ExportModule2.set( SPARSE_QP_SOLUTION, FULL_CONDENSING_N2 );
    if(options_flag != 0) mexErrMsgTxt("ACADO export failed when setting the following option: SPARSE_QP_SOLUTION");
    options_flag = ExportModule2.set( INTEGRATOR_TYPE, INT_IRK_GL4 );
    if(options_flag != 0) mexErrMsgTxt("ACADO export failed when setting the following option: INTEGRATOR_TYPE");
    options_flag = ExportModule2.set( NUM_INTEGRATOR_STEPS, 30 );
    if(options_flag != 0) mexErrMsgTxt("ACADO export failed when setting the following option: NUM_INTEGRATOR_STEPS");
    options_flag = ExportModule2.set( QP_SOLVER, QP_QPOASES );
    if(options_flag != 0) mexErrMsgTxt("ACADO export failed when setting the following option: QP_SOLVER");
    options_flag = ExportModule2.set( HOTSTART_QP, NO );
    if(options_flag != 0) mexErrMsgTxt("ACADO export failed when setting the following option: HOTSTART_QP");
    options_flag = ExportModule2.set( LEVENBERG_MARQUARDT, 1.000000E-10 );
    if(options_flag != 0) mexErrMsgTxt("ACADO export failed when setting the following option: LEVENBERG_MARQUARDT");
    uint export_flag;
    export_flag = ExportModule2.exportCode( "export_MPC" );
    if(export_flag != 0) mexErrMsgTxt("ACADO export failed because of the above error(s)!");


    clearAllStaticCounters( ); 
 
} 

